# ============================================
# POSTGRES EXPORTER HELM VALUES
# ============================================
# #### Ensure host/credentials match the in-cluster Postgres service. ####

# ============================================
# DATASOURCE CONFIG
# ============================================
# #### Connection details used by exporter to query PostgreSQL stats views. ####
config:
  datasource:
    host: postgres-service.payflow.svc.cluster.local
    port: "5432"
    database: payflow
    sslmode: disable

# ============================================
# SERVICE DISCOVERY ANNOTATIONS
# ============================================
# #### Enables Prometheus service discovery via standard scrape annotations. ####
service:
  annotations:
    prometheus.io/scrape: "true"
    prometheus.io/port: "9187"

# ============================================
# EXPORTER RESOURCES
# ============================================
# #### Exporter container CPU/memory envelope. ####
resources:
  requests:
    cpu: 50m
    memory: 64Mi
  limits:
    cpu: 200m
    memory: 128Mi
